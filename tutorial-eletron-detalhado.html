<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Tutorial Completo: Electron App</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f7f7f7; margin: 0; padding: 0; }
    .container { max-width: 900px; margin: 32px auto; background: #fff; border-radius: 8px; box-shadow: 0 2px 12px #0001; padding: 32px 40px; }
    :root{
      --bg:#0f172a;
      --panel:#111827;
      --card:#0b1220;
      --text:#e5e7eb;
      --muted:#9ca3af;
      --acc:#60a5fa;
      --green:#22c55e;
      --red:#ef4444;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background: radial-gradient(1200px 600px at 80% -10%, #0b1220 0, transparent 40%),
                      radial-gradient(800px 500px at -10% 10%, #0b1220 0, transparent 40%),
                      var(--bg);
      color:var(--text); font-family:var(--sans); line-height:1.6;
    }
    .container { max-width: 900px; margin: 32px auto; background: var(--panel); border-radius: 8px; box-shadow: 0 2px 12px #0001; padding: 32px 40px; }
    h1, h2, h3 { color: var(--acc); }
    pre, code { background: var(--card); border-radius: 4px; padding: 2px 6px; color: var(--text); }
    pre { padding: 12px; overflow-x: auto; }
    ul, ol { margin-bottom: 1.5em; margin-left: 2em; }
    .alert { background: #1e293b; color: var(--acc); border-left: 4px solid var(--acc); padding: 8px 16px; margin: 16px 0; border-radius: 4px; }
    .ok { background: #0b3d1e; color: #60fa9a; border-left: 4px solid #22c55e; padding: 8px 16px; margin: 16px 0; border-radius: 4px; }
    .step { font-weight: bold; color: var(--acc); }
    .copy-btn { position:absolute;top:8px;right:8px;padding:2px 10px;border-radius:4px;border:none;background:var(--acc);color:#fff;cursor:pointer; }
    .copy-btn:hover { background:#1769aa; }
    .cmd-block { position:relative; }
    .subpasso-eletron {
      margin-left: 50px;
    }
    .subpasso-eletron .subtitulo-eletron {
      font-size: 1.13em;
      color: #1769aa;
      font-weight: bold;
      margin-bottom: 0.7em;
      margin-left: 0;
    }
    .subpasso-eletron .subpasso-lista {
      list-style-type: decimal-leading-zero;
      margin-left: 1em;
    }
    .subpasso-eletron ul, .subpasso-eletron ol, .subpasso-eletron pre, .subpasso-eletron p, .subpasso-eletron .ok {
      margin-left: 0 !important;
    }
    .alert { background: #ffe0e0; color: #b71c1c; border-left: 4px solid #f44336; padding: 8px 16px; margin: 16px 0; border-radius: 4px; }
    .ok { background: #e0ffe0; color: #256029; border-left: 4px solid #4caf50; padding: 8px 16px; margin: 16px 0; border-radius: 4px; }
    .step { font-weight: bold; color: #1976d2; }
    .copy-btn { position:absolute;top:8px;right:8px;padding:2px 10px;border-radius:4px;border:none;background:#2196f3;color:#fff;cursor:pointer; }
    .copy-btn:hover { background:#1769aa; }
    .cmd-block { position:relative; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Tutorial Completo: Criando, Empacotando e Distribuindo um App Electron</h1>
    <h2>1. Estrutura inicial do projeto</h2>
    <ul>
      <li>Crie uma pasta para o projeto e adicione os arquivos principais: <code>index.html</code>, <code>renderer.js</code>, <code>main.js</code>, <code>styles.css</code>, <code>package.json</code>, <code>icon.ico</code>.</li>
      <li>Adicione as pastas para imagens e outros recursos.</li>
    </ul>
    <div class="subpasso-eletron">
      <div class="subtitulo-eletron">1.1 Transformando uma página HTML em um app Electron</div>
      <p>Você pode transformar praticamente qualquer página web (HTML, CSS, JS) em um app Electron. Veja como:</p>
      <ol class="subpasso-lista">
        <li><b>Estrutura dos arquivos:</b>
          <ul>
            <li><code>index.html</code>: seu HTML principal (pode ser copiado integralmente do seu site).</li>
            <li><code>styles.css</code>: seu CSS (copie todo o conteúdo do seu <code>style.css</code> para cá).</li>
            <li><code>renderer.js</code>: scripts JS que manipulam o DOM (copie o JS do seu site para cá, se não usar recursos nativos do Electron).</li>
            <li><code>main.js</code>: script principal do Electron (responsável por abrir a janela e carregar o <code>index.html</code>).</li>
          </ul>
        </li>
        <li><b>Há diferença entre HTML/CSS/JS do site e do Electron?</b>
          <ul>
            <li><b>HTML:</b> Não há diferença obrigatória. Copie o conteúdo do seu <code>index.html</code> para o projeto Electron.</li>
            <li><b>CSS:</b> Não há diferença obrigatória. Copie o conteúdo do seu <code>style.css</code> para <code>styles.css</code> no Electron.</li>
            <li><b>JS:</b> Se o JS só manipula o DOM, pode ser copiado integralmente. Se precisar acessar recursos do sistema (notificações, arquivos, etc.), use as APIs do Electron no <code>renderer.js</code> ou via preload.</li>
          </ul>
        </li>
        <li><b>Exemplo prático:</b>
          <ol>
            <li>Copie o conteúdo do seu <b>index.html</b> e cole integralmente no <b>index.html</b> do projeto Electron.</li>
            <li>Copie o conteúdo do seu <b>style.css</b> e cole integralmente no <b>styles.css</b> do projeto Electron.</li>
            <li>Copie o JS do seu site para o <b>renderer.js</b> do Electron.</li>
          </ol>
          <div class="ok">Não é necessário adaptar o HTML, CSS ou JS para rodar no Electron, a menos que queira usar recursos exclusivos do Electron.</div>
        </li>
        <li><b>Onde ficam os arquivos?</b>
          <pre>
    meu-app-eletron/
    ├── main.js         ← Script principal do Electron
    ├── index.html      ← Seu HTML (copiado do site)
    ├── styles.css      ← Seu CSS (copiado do site)
    ├── renderer.js     ← Seu JS (copiado do site)
    ├── package.json
          </pre>
        </li>
        <li><b>Resumo:</b>
          <ul>
            <li>HTML, CSS e JS do seu site podem ser usados quase sem alterações no Electron.</li>
            <li>Se quiser usar recursos do sistema operacional, consulte a <a href="https://www.electronjs.org/docs/latest/api" target="_blank">API do Electron</a>.</li>
          </ul>
        </li>
      </ol>
    </div>
  <!-- Exemplo de estrutura de diretórios já está incluso no subpasso 1.1 acima -->
    <h2>2. Instalando Electron e Electron Builder</h2>
    <div class="cmd-block"><pre id="cmd1">npm init -y</pre><button class="copy-btn" onclick="copiar('cmd1')">Copiar</button></div>
    <div class="cmd-block"><pre id="cmd2">npm install --save-dev electron electron-builder</pre><button class="copy-btn" onclick="copiar('cmd2')">Copiar</button></div>
    <h2>3. Executando o app antes de empacotar</h2>
    <ul><li>Para testar o app durante o desenvolvimento, use:</li></ul>
    <div class="cmd-block"><pre id="cmd3">npm start</pre><button class="copy-btn" onclick="copiar('cmd3')">Copiar</button></div>
    <div class="ok">O comando <code>npm start</code> executa o app em modo desenvolvimento, sem empacotar.</div>
    <h2>4. Exemplo de <code>package.json</code> correto</h2>
    <div class="alert">
      <b>Atenção:</b> Edite os campos <code>name</code>, <code>author</code>, <code>description</code>, <code>appId</code>, <code>productName</code> e <code>publisherName</code> com os dados do seu app/empresa.<br>
      <b>Obrigatórios para lojas:</b> <code>name</code>, <code>version</code>, <code>description</code>, <code>author</code>, <code>appId</code>, <code>productName</code>, <code>publisherName</code>.<br>
      <b>Dica:</b> Use um <code>appId</code> único, como <code>com.suaempresa.nomeapp</code>.<br>
      <b>Links para cadastro:</b> <a href="https://partner.microsoft.com/pt-br/dashboard/account/" target="_blank">Microsoft Partner Center</a> | <a href="https://play.google.com/console/about/" target="_blank">Google Play Console</a>
    </div>
    <div class="cmd-block"><pre id="cmd4">{
  "name": "cofre-de-textos",
  "version": "1.0.0",
  "main": "main.js",
  "author": "Seu Nome",
  "description": "Descrição do seu app.",
  "scripts": {
    "start": "electron .",
    "dist": "electron-builder"
  },
  "build": {
    "appId": "com.suaempresa.cofretextos",
    "productName": "Cofre de Textos",
    "files": ["**/*"],
    "win": {
      "target": "nsis",
      "icon": "icon.ico"
    },
    "nsis": {
      "oneClick": false,
      "allowToChangeInstallationDirectory": true
    },
    "publisherName": "Sua Empresa LTDA"
  },
  "devDependencies": {
    "electron": "^30.0.0",
    "electron-builder": "^26.0.12"
  }
}</pre><button class="copy-btn" onclick="copiar('cmd4')">Copiar</button></div>
    <h2>5. Gerando o instalador</h2>
    <ul><li>Execute o comando abaixo para gerar o instalador na pasta <code>dist</code>:</li></ul>
    <div class="cmd-block"><pre id="cmd5">npm run dist</pre><button class="copy-btn" onclick="copiar('cmd5')">Copiar</button></div>
    <div class="ok">O usuário poderá escolher onde instalar o programa.</div>
  <div class="ok"><b>O arquivo empacotado (instalador) será gerado na pasta <code>dist</code> do seu projeto.</b></div>
    <h2>6. Assinatura digital e publicação</h2>
    <ul>
      <li>Adquira um certificado digital de uma autoridade certificadora (<a href="https://www.sectigo.com/" target="_blank">Sectigo</a>, <a href="https://www.digicert.com/" target="_blank">DigiCert</a>).</li>
      <li>Adicione as opções <code>certificateFile</code> e <code>certificatePassword</code> no campo <code>win</code> do <code>build</code> para assinar o instalador.</li>
      <li>Preencha <code>appId</code>, <code>author</code>, <code>publisherName</code> corretamente para publicação em lojas.</li>
      <li>Cadastre-se nas lojas oficiais: <a href="https://partner.microsoft.com/pt-br/dashboard/account/" target="_blank">Microsoft Partner Center</a> | <a href="https://play.google.com/console/about/" target="_blank">Google Play Console</a></li>
    </ul>
    <h2>7. Erros comuns e soluções</h2>
    <ul>
      <li><b>Erro:</b> "Package 'electron' is only allowed in 'devDependencies'"<br><b>Solução:</b> Mova <code>electron</code> para <code>devDependencies</code>.</li>
      <li><b>Erro:</b> "Can't open output file"<br><b>Solução:</b> Feche instaladores abertos e tente novamente.</li>
      <li><b>Erro:</b> Duplicidade de <code>devDependencies</code> no <code>package.json</code><br><b>Solução:</b> Mantenha apenas uma seção <code>devDependencies</code> com todos os pacotes.</li>
      <li><b>Erro:</b> Permissão de escrita em arquivos de dados<br><b>Solução:</b> Use <code>app.getPath('userData')</code> para salvar dados do usuário.</li>
      <li><b>Erro:</b> Ordem das importações no <code>main.js</code><br><b>Solução:</b> Sempre coloque <code>require</code> no topo do arquivo.</li>
    </ul>
    <h2>8. Dicas extras</h2>
    <ul>
      <li>Use <b>comentários</b> no código para facilitar manutenção.</li>
      <li>Teste o app empacotado em outro computador antes de distribuir.</li>
      <li>Considere adicionar logs para depuração.</li>
      <li>Consulte sempre a <a href="https://www.electron.build/" target="_blank">documentação oficial do Electron Builder</a>.</li>
    </ul>
    <h2>9. Referências</h2>
    <ul>
      <li><a href="https://www.electronjs.org/docs/latest/tutorial/quick-start" target="_blank">Electron Quick Start</a></li>
      <li><a href="https://www.electron.build/" target="_blank">Electron Builder</a></li>
      <li><a href="https://learn.microsoft.com/pt-br/windows/msix/desktop/desktop-to-uwp-packaging-dot-net" target="_blank">Publicar na Microsoft Store</a></li>
    </ul>
  </div>
  <script>
    function copiar(id) {
      const el = document.getElementById(id);
      if (navigator.clipboard) {
        navigator.clipboard.writeText(el.innerText);
      } else {
        const temp = document.createElement('textarea');
        temp.value = el.innerText;
        document.body.appendChild(temp);
        temp.select();
        document.execCommand('copy');
        document.body.removeChild(temp);
      }
    }
  </script>
</body>
</html>
